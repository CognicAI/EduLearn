<!DOCTYPE html>
<html>
<head>
  <title>EduLearn Chatbot Config</title>
  <link rel="stylesheet" href="popup.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header class="header">
      <img src="icons/icon48.png" alt="Chatbot Icon" class="logo">
      <h1>EduLearn Chatbot</h1>
    </header>

    <section class="status-section">
      <div class="active-info">
        <span class="dot active"></span> Active on localhost:3000
      </div>
    </section>

    <section class="features-section">
      <h2>Key Features</h2>
      <ul>
        <li>Sends messages to your custom webhook endpoint</li>
        <li>Maintains session-based conversations</li>
        <li>Provides intelligent responses via EduLearn platform</li>
        <li>Real-time chat interface with typing indicators</li>
      </ul>
    </section>

    <section class="config-section">
      <h2>Chatbot Configuration</h2>
      
      <div class="form-group">
        <label for="backendType">Backend Type:</label>
        <select id="backendType">
          <option value="local">Local EduLearn Backend (Recommended)</option>
          <option value="webhook">External Webhook</option>
        </select>
      </div>

      <div class="form-group" id="webhookGroup">
        <label for="webhookUrl">Webhook URL:</label>
        <input type="text" id="webhookUrl" placeholder="e.g., https://your-webhook-url.com/webhook" 
               value="https://harsha1234.app.n8n.cloud/webhook/user-query">
      </div>

      <div class="info-box" id="localBackendInfo">
        <h3>✅ Using Local Backend</h3>
        <p>The chatbot will use the EduLearn backend with proper authentication and role-based access control.</p>
        <p><strong>Features:</strong></p>
        <ul>
          <li>Role-based access (Admin, Teacher, Student)</li>
          <li>Secure authentication required</li>
          <li>Personalized responses based on user role</li>
          <li>Activity logging and session management</li>
        </ul>
      </div>

      <div class="warning-box" id="webhookWarning" style="display: none;">
        <h3>⚠️ External Webhook Mode</h3>
        <p>Using external webhook bypasses EduLearn authentication. This mode is for development/testing only.</p>
      </div>

      <button id="saveConfig" class="btn btn-primary">Save Configuration</button>
      <p id="statusMessage"></p>
    </section>

    <footer class="footer">
      <p class="footer-text">
        To use the chatbot, visit <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">localhost:3000</a> and click the chat icon.
      </p>
      <p class="copyright">© 2025 EduLearn Chatbot</p>
    </footer>
  </div>
  <script src="popup.js"></script>
</body>
</html>